(function(a){var b=a.hci||(a.hci={});b.selectable=function(g){var f=$(g.el),d=g.cssClass||"hci-selected",c=g.multiple,i,h,e;i=function(k){var j=function j(m,l){if(m===f.get(0)){return l}else{return j($(m).parent().get(0),m)}};return j(k)};h=function(o){var k=i(o.target),j,q,m,n,r,l,p;if(o.metaKey&&c){$(k).toggleClass(d)}else{if(o.shiftKey&&c){j=$(k).parent().children();m=0;while(!(n&&r)&&m<j.length){if($(j[m]).hasClass(d)){n=m}if(j[m]===k){r=m}m++}if(n<=r){l=n;p=r}else{l=r;p=n}for(m=l;m<=p;m++){$(j[m]).addClass(d)}}else{q=f.find("."+d);if(q.length>1){}else{f.children().removeClass(d);$(k).addClass(d)}}}};e=function(k){var j=i(k.target),l;if(!k.metaKey&&!k.shiftKey){l=f.find("."+d);if(l.length>0){f.children().removeClass(d);$(j).addClass(d)}}if(g.onMouseUp){g.onMouseUp()}};f.off("mousedown");f.off("mouseup");f.on("mousedown",h);f.on("mouseup",e)}})(this);