(function(a){var b=a.hci||(a.hci={});b.box={};b.box.popable=function(e){var h=typeof e.el==="string"?$(e.el):e.el,g=typeof e.btn==="string"?$(e.btn):e.btn;var d=function(){if(h.is(":hidden")){c()}else{f()}};var i=function(j){if(h&&g){if(!h.find($(j.target)).length&&j.target!==g.get(0)){f();$("html").off("mousedown",i)}}};var c=function(){if(e.beforeShow){e.beforeShow()}h.show();$("html").on("mousedown",i);if(e.onShow){e.onShow()}};var f=function(){if(e.beforeHide){e.beforeHide()}h.hide();if(e.onHide){e.onHide()}};g.off("click",d);g.on("click",d)}})(this);